<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
  
  <f:metadata>
  	<f:viewParam name="urlRetorno" value="#{loginMB.urlRetorno}" />
  </f:metadata>
  
  <h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>SIGELI - Acesso do Funcionário - Login</title>
    <meta name="msapplication-TileColor" content="#5bc0de" />
    <meta name="msapplication-TileImage" content="#{resource['funcionario:img/metis-tile.png']}" />
    <h:outputStylesheet library="funcionario" name="lib/bootstrap/css/bootstrap.css" />
    <h:outputStylesheet library="funcionario" name="css/main.css" />
    <h:outputStylesheet library="funcionario" name="lib/magic/magic.css" />
    <h:outputScript library="javax.faces" name="jsf.js" target="head" />
    <script>
      (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
      ga('create', 'UA-1669764-16', 'onokumus.com');
      ga('send', 'pageview');
    </script>
  </h:head>
  <h:body class="login">
    <div class="container">
      <div class="text-center">
        <img src="#{resource['funcionario:img/logo.png']}" alt="Metis Logo"/>
      </div>
      <div class="tab-content">
        <div id="login" class="tab-pane active">
          <h:form styleClass="form-signin" id="loginForm">
            <h:messages globalOnly="true" errorClass="alert-danger" infoClass="alert-success"/>
            <p class="text-muted text-center">
              Informe seu email e senha
            </p>
            <h:inputText p:placeholder="Email" styleClass="form-control" value="#{loginMB.email}" required="true" id="inputEmail">
                <f:validator validatorId="emailValidator" />
            </h:inputText>
            <h:message for="inputEmail" errorClass="alert-danger" infoClass="alert-info" />
            
            <h:inputSecret p:placeholder="Senha" styleClass="form-control" required="true" value="#{loginMB.senha}" id="inputPassword"/>
            <h:message for="inputPassword" errorClass="alert-danger" infoClass="alert-info" />
            
            <h:commandButton styleClass="btn btn-lg btn-primary btn-block" value="Login" action="#{loginMB.login}"/>
          </h:form>
        </div>
      </div>
    </div><!-- /container -->
    <h:outputScript library="funcionario" name="lib/jquery.min.js" />
    <h:outputScript library="funcionario" name="lib/bootstrap/js/bootstrap.js" />
    <script>
      $('.list-inline li > a').click(function() {
        var activeForm = $(this).attr('href') + ' > form';
        //console.log(activeForm);
        $(activeForm).addClass('magictime swap');
        //set timer to 1 seconds, after that, unload the magic animation
        setTimeout(function() {
          $(activeForm).removeClass('magictime swap');
        }, 1000);
      });
    </script>
  </h:body>
</html>
