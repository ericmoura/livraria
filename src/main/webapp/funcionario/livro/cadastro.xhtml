<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<f:metadata>
	<f:viewParam name="id" value="#{livroMB.id}" />
	<f:viewAction action="#{livroMB.carregar()}"/>
</f:metadata>
<ui:composition template="/WEB-INF/template_funcionario.xhtml">
	<ui:define name="titulo">SIGELI - Acesso do Funcionário - Livro - Cadastro</ui:define>
	<ui:define name="main-bar">
		<h3>
			<i class="fa fa-book"></i>Livro
		</h3>
	</ui:define>
	<ui:define name="conteudo">
		<div class="row">
			<div class="col-lg-12">
				<div class="box">
					<header>
					<div class="icons">
						<i class="fa fa-edit"></i>
					</div>
					<h5>
						<h:outputText value="Cadastrar"
							rendered="#{livroMB.cadastro}" />
						<h:outputText value="Editar"
							rendered="#{!livroMB.cadastro}" />
					</h5>
					</header>
					<div id="collapse2" class="body in" style="height: auto;">
						<form jsf:id="form" class="form-horizontal inline-validate" jsf:prependId="false" enctype="multipart/form-data" jsf:acceptcharset="ISO-8859-1">
							<input jsf:id="id" name="id" jsf:value="#{livroMB.livro.id}" type="hidden" jsf:rendered="#{!livroMB.cadastro}" jsf:converter="javax.faces.Integer" />
							
							<div class="form-group">
								<label class="control-label col-lg-4" for="titulo">Título</label>
								<div class="col-lg-8">
									<input  jsf:id="titulo" name="titulo"
											jsf:value="#{livroMB.livro.titulo}" type="text" placeholder="Título do livro" class="form-control required" maxlength="50"
									/>
								</div>
							</div>

							<div class="form-group">
								<label class="control-label col-lg-4" for="autor">Autor</label>
								<div class="col-lg-8">
									<input 	jsf:id="autor" name="autor"
											jsf:value="#{livroMB.livro.autor}" type="text" placeholder="Autor" class="form-control" maxlength="50"
									/>
								</div>
							</div>

							<div class="form-group">
								<label class="control-label col-lg-4" for="capa">Capa</label>
								<div class="col-lg-8">
									<img id="capa_atual" src="#{request.contextPath}/capa?id=-1" alt="" jsf:rendered="#{livroMB.cadastro}" />
									<img id="capa_atual" src="#{request.contextPath}/capa?id=#{livroMB.livro.id}" alt="" jsf:rendered="#{!livroMB.cadastro}" />
									<div id="upload_capa">
										<h:inputFile id="capa" name="capa" value="#{livroMB.capa}" styleClass="form-control" />
										<p class="help-block">Você só precisa enviar uma capa se desejar substituir a capa atual, exibida ao lado.</p>
									</div>
								</div>
							</div>

							
							<div class="form-group">
								<label class="control-label col-lg-4" for="editora">Editora</label>
								<div class="col-lg-8">
									<input 	jsf:id="editora" name="editora"
											jsf:value="#{livroMB.livro.editora}" type="text" placeholder="Editora" class="form-control" maxlength="50"
									/>
								</div>
							</div>

							<div class="form-group">
								<label class="control-label col-lg-4" for="edicao">Edição</label>
								<div class="col-lg-8">
									<input  jsf:id="edicao" name="edicao"
											jsf:value="#{livroMB.livro.edicao}" type="text" placeholder="Edição" class="form-control digits" maxlength="2"
									/>
								</div>
							</div>

							<div class="form-group">
								<label class="control-label col-lg-4" for="ano">Ano</label>
								<div class="col-lg-8">
									<input jsf:id="ano" name="ano"
										jsf:value="#{livroMB.livro.ano}" type="text" placeholder="Ano" class="form-control digits" maxlength="4"
									/>
								</div>
							</div>

							<div class="form-group">
								<label class="control-label col-lg-4" for="genero">Gênero</label>
								<div class="col-lg-8">
									<input  jsf:id="genero" name="genero"
											jsf:value="#{livroMB.livro.genero}" type="text" placeholder="Gênero" class="form-control" maxlength="50"
									/>
								</div>
							</div>
							
							
							<div class="form-group">
								<label class="control-label col-lg-4" for="isbn">ISBN</label>
								<div class="col-lg-8">
									<input  jsf:id="isbn" name="isbn"
											jsf:value="#{livroMB.livro.isbn}" type="text" placeholder="000-00-00000-00-0" class="form-control" data-mask="999-99-99999-99-9"
									/>
								</div>
							</div>
							
							
							<div class="form-group">
								<label class="control-label col-lg-4" for="sinopse">Sinopse</label>
								<div class="col-lg-8">
									<textarea jsf:id="sinopse" class="form-control" rows="3" jsf:value="#{livroMB.livro.sinopse}" maxlength="255" />
								</div>
							</div>
							

							<div class="form-group">
								<label class="control-label col-lg-4" for="preco">Preço</label>
								<div class="col-lg-8">
									<div class="input-group">
										<span class="input-group-addon">R$</span>
										<input 	jsf:id="preco" name="preco"
												jsf:value="#{livroMB.livro.preco}" type="text" placeholder="Preço" class="form-control moeda required">
											<f:convertNumber pattern="#,##0.00" minFractionDigits="2" />
										</input>
									</div>
								</div>
							</div>

							<input type="hidden" jsf:id="estoque" name="estoque" jsf:value="#{livroMB.livro.estoque}" jsf:rendered="#{!livroMB.cadastro}" />

							<div class="form-actions no-margin-bottom">
								<a jsf:id="cancelar" class="btn btn-default" jsf:action="index.jsf" jsf:immediate="true">Cancelar</a>
								<button jsf:id="inserir" class="btn btn-primary" jsf:action="#{livroMB.inserir()}" jsf:rendered="#{livroMB.cadastro}">Salvar</button>
								<button jsf:id="atualizar" class="btn btn-primary" jsf:action="#{livroMB.atualizar()}" jsf:rendered="#{!livroMB.cadastro}">Atualizar</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<h:outputStylesheet library="funcionario" name="css/funcionario.css" />
		<style>
		#capa_atual {
			float: left;
			max-width: 160px;
			max-height: 160px;
		}
		#upload_capa {
			float: left;
			margin-left: 10px;
		}
		</style>
		<h:outputScript library="funcionario" name="js/funcionario.js" />
	</ui:define>
</ui:composition>
</html>